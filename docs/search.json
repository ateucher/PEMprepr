[{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"PEMprepr","text":"following provides standard workflow preparing data subsequent sampling, modeling, mapping. key steps demonstrated include: Data folder set . Alignment area interest Generation covariates Creation multi-resolution raster stack Collection vector data.","code":""},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"folder-setup","dir":"Articles","previous_headings":"","what":"Folder setup","title":"PEMprepr","text":"Data project can quickly become difficult manage. facilitate ease data management standard set folders area interest. following creates needed folders area interest: aleza. addition, fstr stores named list folders created utilize later (e.g. programmatically place results functions correct place). _Note: folders generated previously function still return list folder names.","code":"# creates dirs and returns a named list fstr <- setup_folders(\"aleza\",                                   full_names = FALSE) # relative or full path  str(fstr[1:5]) ## first 5 in the list.  #> [1] \"The aleza folder already exists - returning folder names.\" #> List of 5 #>  $ AOI_dir      : chr \"aleza\" #>  $ raw_dir      : chr \"aleza/00_raw_inputs\" #>  $ shape_raw_dir: chr \"aleza/00_raw_inputs/vector/raw\" #>  $ derived_dir  : chr \"aleza/10_map_inputs\" #>  $ cov_dir      : chr \"aleza/10_clean_inputs/covariates\""},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"alignment-of-the-area-of-interest","dir":"Articles","previous_headings":"","what":"Alignment of the area of interest","title":"PEMprepr","text":"Load spatial data One concern, area--interest (aoi) (red area) bounding box geographic extent area ends random numbers (output ). Using extent cause significant problems later attempt stack numerous rasters.","code":"aoi   <- sf::st_read(system.file(\"extdata/aleza_nw.gpkg\",                                   package = \"PEMprepr\"), quiet = TRUE)  sf::st_bbox(aoi) ## note extent #>    xmin    ymin    xmax    ymax  #> 1250797 1013823 1257215 1019097"},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"snap-the-extent","dir":"Articles","previous_headings":"Alignment of the area of interest","what":"Snap the extent","title":"PEMprepr","text":"aoi snapped extent divisible 100. facilitate generation rasters data fits grid extent thereby can stacked relative ease.","code":"aoi <- aoi_snap(aoi, method = \"shrink\") ## or expand #> [1] \"initial extent is:\" #>    xmin    ymin    xmax    ymax  #> 1250797 1013823 1257215 1019097  #> [1] \"Extent is:\" #>    xmin    ymin    xmax    ymax  #> 1250800 1013900 1257200 1019000"},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"raster-templates","dir":"Articles","previous_headings":"Alignment of the area of interest","what":"Raster templates","title":"PEMprepr","text":"snapped aoi can now used create raster template. example 25m2 raster template created.","code":"t25 <- create_template(aoi, 25) t25 ## note that the extent of the raster is the same as the aoi.  #> class       : SpatRaster  #> dimensions  : 204, 256, 1  (nrow, ncol, nlyr) #> resolution  : 25, 25  (x, y) #> extent      : 1250800, 1257200, 1013900, 1019000  (xmin, xmax, ymin, ymax) #> coord. ref. : NAD83 / BC Albers (EPSG:3005)  #> source      : memory  #> name        : lyr.1  #> min value   :     0  #> max value   :     0"},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"generation-of-covariates","dir":"Articles","previous_headings":"","what":"Generation of covariates","title":"PEMprepr","text":"generate terrain derived covariates. powered SAGA-GIS. Covariates generated multiple resolutions, example 5, 10, 25m2. Steps create covariates load digital terrain model (dtm). Generally, high resolution model derived lidar. align dtm template. resample dtm desired resolution – demonstrate using 25m2 templated created . create covariates","code":""},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"import-the-terrain-model","dir":"Articles","previous_headings":"Generation of covariates","what":"Import the terrain model","title":"PEMprepr","text":"raw digital terrain model area--interest noted red. processed rasters align aoi.","code":"dtm <- terra::rast(system.file(\"extdata/aleza_nw.tif\",                                package = \"PEMprepr\")) dtm #> class       : SpatRaster  #> dimensions  : 1170, 1408, 1  (nrow, ncol, nlyr) #> resolution  : 5.000284, 5.000422  (x, y) #> extent      : 1250480, 1257520, 1013524, 1019375  (xmin, xmax, ymin, ymax) #> coord. ref. : NAD83 / BC Albers (EPSG:3005)  #> source      : aleza_nw.tif  #> name        : aleza_nw"},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"align-the-raster","dir":"Articles","previous_headings":"Generation of covariates","what":"Align the raster","title":"PEMprepr","text":"","code":"dtm25 <- align_raster(dtm, t25) dtm25 #> class       : SpatRaster  #> dimensions  : 204, 256, 1  (nrow, ncol, nlyr) #> resolution  : 25, 25  (x, y) #> extent      : 1250800, 1257200, 1013900, 1019000  (xmin, xmax, ymin, ymax) #> coord. ref. : NAD83 / BC Albers (EPSG:3005)  #> source      : memory  #> name        : aleza_nw  #> min value   : 595.0263  #> max value   : 704.1022"},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"create-the-covariates","dir":"Articles","previous_headings":"Generation of covariates","what":"Create the covariates","title":"PEMprepr","text":"Note pre-defined output directory fstr$cov_dir, created using setup_folders(), used ensure generated covariates saved correct location. Rasters also saved subfolders resolution.","code":"layer_options <-    c(\"Filled_sinks\", \"sinkroute\", \"dem_preproc\",      \"slope_aspect_curve\", \"tCatchment\", \"tca\", \"sCatchment\",      \"twi\", \"channelsNetwork\", \"Distance2Water\",      \"MultiResFlatness\", \"MultiResFlatness2\",     \"MultiResFlatness3\", \"TRI\", \"convergence\", \"Openness\",     \"dah\", \"TPI\", \"RidgeValley\", \"MRN\", \"FlowAccumulation\",     \"SlopeLength\", \"FlowAccumulation2\", \"FlowAccumulation3\",     \"FlowPathLength\", \"FlowPathLength2\", \"FlowPathLength3\",      \"LSFactor\", \"SolarRad\", \"Convexity\", \"VertDistance\", \"TCI_low\",     \"SWI\", \"WindExp\", \"Texture\", \"Protection\", \"VRM\",     \"MBI\", \"mscale_TPI\", \"RelPosition\", \"SlopeCurvatures\",     \"SteepestSlope\", \"UpslopeArea\")    create_covariates(dtm = dtm25,           ## raster created above                   SAGApath = \"c:/SAGA/\", ## Where SAGA GIS is installed                   output = fstr$cov_dir, ## from the setup_folders above                   layers = \"all\")        ## use all or one of the above l <- list.files(path = fstr$cov_dir, pattern = \".sdat\",                 recursive = TRUE) l <- l[!grepl(\"xml\",l)]  ## created covariates  head(l, 20)  #>  [1] \"25/aspect.sdat\"               #>  [2] \"25/cnetwork.sdat\"             #>  [3] \"25/convergence.sdat\"          #>  [4] \"25/convexity.sdat\"            #>  [5] \"25/dah.sdat\"                  #>  [6] \"25/dem_preproc.sdat\"          #>  [7] \"25/diffinso.sdat\"             #>  [8] \"25/direinso.sdat\"             #>  [9] \"25/down_curv.sdat\"            #> [10] \"25/dtm.sdat\"                  #> [11] \"25/Filled_sinks.sdat\"         #> [12] \"25/flow_accum_ft.sdat\"        #> [13] \"25/flow_accum_p.sdat\"         #> [14] \"25/flow_accum_td.sdat\"        #> [15] \"25/flowlength1.sdat\"          #> [16] \"25/FlowPathLenTD.sdat\"        #> [17] \"25/gencurve.sdat\"             #> [18] \"25/hdistnob.sdat\"             #> [19] \"25/local_curv.sdat\"           #> [20] \"25/local_downslope_curv.sdat\""},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"creation-of-the-multi-resolution-raster-stack","dir":"Articles","previous_headings":"","what":"Creation of the multi-resolution raster stack","title":"PEMprepr","text":"Generation covariates repeated resolution multi-resolution model. order make rasters stackable, necessary model map generation, must extent resolution. process ensures extent. Next coarse resolution rasters disaggregated fine scale resolution. means data resulting raster data coarse-raster fine scale format. script wrapper terra::disaggregate.","code":"## we can use the list of files from above l <- list.files(path = fstr$cov_dir,                 pattern = \".sdat\",                 full.names = TRUE, ## Use TRUE                 recursive = TRUE) l <- l[!grepl(\"xml\",l)]   create_fine_res(inputFileList = l[1:5],     ## using the list of files above                   output = fstr$cov_dir, ## from setup_folders())                 targetRes = 5)  #> [1] \"Processing: aleza/10_clean_inputs/covariates/25/aspect.sdat\" #> [1] \"Created: aleza/10_clean_inputs/covariates/5/aspect_25.sdat\" #> [1] \"Processing: aleza/10_clean_inputs/covariates/25/cnetwork.sdat\" #> [1] \"Created: aleza/10_clean_inputs/covariates/5/cnetwork_25.sdat\" #> [1] \"Processing: aleza/10_clean_inputs/covariates/25/convergence.sdat\" #> [1] \"Created: aleza/10_clean_inputs/covariates/5/convergence_25.sdat\" #> ..."},{"path":"https://bcgov.github.io/PEMprepr/articles/PEMprepr.html","id":"collection-of-vector-data","dir":"Articles","previous_headings":"","what":"Collection of vector data","title":"PEMprepr","text":"standard set Vector data used subsequent sample planning based aoi. script collects numerous vector layers BC Data Catalogue making use bcdata package files saved geopackage format.","code":"create_base_vectors(in_aoi = aoi,                     out_path = fstr$shape_raw_dir)"},{"path":"https://bcgov.github.io/PEMprepr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Colin Chisholm. Author, maintainer. Gen Perkins. Author. MacKenzie. Author. Province British Columbia. Copyright holder.","code":""},{"path":"https://bcgov.github.io/PEMprepr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chisholm C, Perkins G, MacKenzie W (2022). PEMprepr: Prepares data PEMr. R package version 0.0.1.91117, https://bcgov.github.io/PEMprepr/.","code":"@Manual{,   title = {PEMprepr: Prepares data for PEMr},   author = {Colin Chisholm and Gen Perkins and Will MacKenzie},   year = {2022},   note = {R package version 0.0.1.91117},   url = {https://bcgov.github.io/PEMprepr/}, }"},{"path":"https://bcgov.github.io/PEMprepr/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, interest fostering open welcoming community, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion, nationality. Examples unacceptable behavior participants include: use sexualized language imagery Personal attacks Trolling insulting/derogatory comments Public private harassment Publishing ’s private information, physical electronic addresses, without explicit permission unethical unprofessional conduct Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, ban temporarily permanently contributor behaviors deem inappropriate, threatening, offensive, harmful. adopting Code Conduct, project maintainers commit fairly consistently applying principles every aspect managing project. Project maintainers follow enforce Code Conduct may permanently removed project team. Code Conduct applies within project spaces public spaces individual representing project community. Instances abusive, harassing, otherwise unacceptable behavior may reported contacting project maintainer genevieve.perkins@gov.bc.ca. complaints reviewed investigated result response deemed necessary appropriate circumstances. Maintainers obligated maintain confidentiality regard reporter incident. Code Conduct adapted Contributor Covenant, version 1.3.0, available http://contributor-covenant.org/version/1/3/0/ project created using bcgovr package.","code":""},{"path":"https://bcgov.github.io/PEMprepr/CONTRIBUTING.html","id":"how-to-contribute","dir":"","previous_headings":"","what":"How to contribute","title":"NA","text":"Government employees, public members private sector encouraged contribute repository forking submitting pull request. (new GitHub, might start basic tutorial check detailed guide pull requests.) Pull requests evaluated repository guardians schedule deemed beneficial committed master. contributors retain original copyright stuff, contributing project, grant world-wide, royalty-free, perpetual, irrevocable, non-exclusive, transferable license users terms license project distributed. project created using bcgovr package.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"pemprepr","dir":"","previous_headings":"","what":"Prepares data for PEMr","title":"Prepares data for PEMr","text":"One module PEMrproject. Functions package focus initial data acquisition, covariate generation, including preparation multi-resolution covariate stack. Additional modules project include: PEMsamplr – functions preparing sample plan PEMmodelr – model generation, evaluation PEMmapr – map production","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Prepares data for PEMr","text":"raster focused functions objective creating multi-resolution raster stack numerous covariates. Snap area interest ensure subsequent rasters stackable Creation covariates digital terrain model via SAGA-GIS Disaggregate coarse resolution rasters fine scales bulk functions wrapper-functions utilizing terra sf packages Vector functions package faciltate aquisition standard set data BC Data Catalogue via bcdata package.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Prepares data for PEMr","text":"","code":"remotes::install_github(\"bcgov/PEMprepr\", build_vignettes = TRUE)"},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Prepares data for PEMr","text":"Raster based: Create standardized folder structure area interest Create standardized area interest – fits well xxx100m2 extent Create digital terrain model desired resolutions (e.g. 5, 10, 25m2) Generate covariates resolution disaggregate course scale covariates finest resolution level Vector based – collect standard set vectors place within folder structure.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"standardized-folder-structure","dir":"","previous_headings":"Usage","what":"Standardized folder structure","title":"Prepares data for PEMr","text":"todo – add graphic folders","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"example","dir":"","previous_headings":"Usage","what":"Example","title":"Prepares data for PEMr","text":"vignette package provide example workflow.","code":"vignette(\"PEMprepr\")"},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"project-status","dir":"","previous_headings":"","what":"Project Status","title":"Prepares data for PEMr","text":"currently functional … polish needed.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"getting-help-or-reporting-an-issue","dir":"","previous_headings":"","what":"Getting Help or Reporting an Issue","title":"Prepares data for PEMr","text":"report bugs/issues/feature requests, please file issue.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"how-to-contribute","dir":"","previous_headings":"","what":"How to Contribute","title":"Prepares data for PEMr","text":"like contribute package, please see CONTRIBUTING guidelines. Please note project released Contributor Code Conduct. participating project agree abide terms.","code":""},{"path":"https://bcgov.github.io/PEMprepr/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Prepares data for PEMr","text":"project created using bcgovr package.","code":"Copyright 2022 Province of British Columbia  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at  http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://bcgov.github.io/PEMprepr/reference/align_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Align raster — align_raster","title":"Align raster — align_raster","text":"Forces raster specified extent","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/align_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Align raster — align_raster","text":"","code":"align_raster(   iraster,   rtemplate,   outpath = c(NULL, \"default\", \"yourpath\"),   outname = c(NULL, \"yourname.tiff\") )"},{"path":"https://bcgov.github.io/PEMprepr/reference/align_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Align raster — align_raster","text":"iraster terra::rast object rtemplate terra::rast object outpath character string save location. Note placed subfolder based template resolution.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/align_raster.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Align raster — align_raster","text":"facilitate stacking rasters, rasters varied resolutions rasters must extent. function ensure ..... ...","code":""},{"path":[]},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":null,"dir":"Reference","previous_headings":"","what":"Snap Area of Interest — aoi_snap","title":"Snap Area of Interest — aoi_snap","text":"Adjusts area interest nearest 100m. Note package assumes data metric equal area projection.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Snap Area of Interest — aoi_snap","text":"","code":"aoi_snap(aoi, method = c(\"expand\", \"shrink\"))"},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Snap Area of Interest — aoi_snap","text":"aoi sf object (e.g. polygon). bounding box shape used create rectangular shape. method Options shrink expand. Shrink snap aoi nearest 100m. Expand snap aoi nearest 100m.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Snap Area of Interest — aoi_snap","text":"sf polygon","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Snap Area of Interest — aoi_snap","text":"essential first step.  subsequent co-variate layers generated multiple resolutions (e.g. 5, 10, 25m^2) disaggregate'd back lowest resolution. aoi set 100m break-points facilitates .","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Snap Area of Interest — aoi_snap","text":"","code":"## Load sf object aoi_raw <- sf::st_read(dsn = \"../data/Block_aoi.gpkg\", quiet = TRUE) #> Error: Cannot open \"../data/Block_aoi.gpkg\"; The file doesn't seem to exist. ## snap aoi to nearest 100m aoi_snap(aoi_raw) #> Error in sf::st_bbox(aoi): object 'aoi_raw' not found ## ## [1] \"initial extent is:\" ## xmin      ymin      xmax      ymax ## 559691.2 5994955.0  560687.0 5995832.5 ## [1] \"Expanded extent is:\" ## xmin    ymin    xmax    ymax ## 559600 5994900  560700 5995900"},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap_landscape.html","id":null,"dir":"Reference","previous_headings":"","what":"AOI Snap to landscape — aoi_snap_landscape","title":"AOI Snap to landscape — aoi_snap_landscape","text":"Creates watershed based area interest.  querying BCData's Freshwater Atlas","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap_landscape.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"AOI Snap to landscape — aoi_snap_landscape","text":"","code":"aoi_snap_landscape(in_aoi, preview = TRUE)"},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap_landscape.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"AOI Snap to landscape — aoi_snap_landscape","text":"in_aoi sf polygon Area Interest. Needs meters based projection (e.g. Albers, UTM) preview Boolean.  TRUE provide mapview preview resulting aoi, input aoi, Freshwater Atlas Watersheds intersect.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap_landscape.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"AOI Snap to landscape — aoi_snap_landscape","text":"sf polygon","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/aoi_snap_landscape.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"AOI Snap to landscape — aoi_snap_landscape","text":"","code":"aoi_snap_landscape(aoi) ### add more #> Error in eval_bare(sym, env): object 'aoi' not found"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_base_vectors.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieves essential base vectors — create_base_vectors","title":"Retrieves essential base vectors — create_base_vectors","text":"Collects vector data BC Data Catelog spcified area interest.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_base_vectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieves essential base vectors — create_base_vectors","text":"","code":"create_base_vectors(in_aoi, out_path = \"00_raw_inputs/vector\")"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_base_vectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieves essential base vectors — create_base_vectors","text":"in_aoi sf polygon out_path character string points output location","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_base_vectors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieves essential base vectors — create_base_vectors","text":"script downloads relevant spatial data BEC zones, VRI, TEM, waterbodies road network used stage 1 PEM processing. Data downloaded directly BC Data Catalogue using bcdata package. Datasets retrieved include: BEC - Biogeoclimatic Ecosystems Classification used define /select specific \"subzones\" within defined study area. Note can also pointed different file updated version available. Vegetation Resource Inventory (VRI) - layer includes variety vegetation measure, including cutblock age, TEM data ..... Detailed data standards can found . Freshwater Atlas -  atlas separated different types waterbodies (lakes, rivers, wetlands, streams, man made, etc.), requires seperate download per type. Alternatively single combined layer can downloaded limited linear data type. parameter within function can set \"polygon\" (default option) \"linear\". Road network STILL NEEEDS WORK Road network - previous works, raw road network found detailed. raw road network filtered keep named roads, date Forest Service Road (FSR) layer downloaded merged filtered road network produce really good representation roads actually located landscape. Fire - Fire fire intensity used used assist identifying areas high cost applied reduce sampling. includes: -current -historical polygons. -severity. Accessing consolidated cutblock layer using bcdata package. FTen layer also used identify recent cutblocks. Note detailed Tenure (private ownership) \tWHSE_CADASTRE.PMBC_PARCEL_FABRIC_POLY_FA_SVW\tBCGW Detailed roads layers. cases regionally specific roads available collaborative projects (cumulative effects). directly available BCGW.","code":""},{"path":[]},{"path":"https://bcgov.github.io/PEMprepr/reference/create_covariates.html","id":null,"dir":"Reference","previous_headings":"","what":"Covariate raster generation from input dtm. — create_covariates","title":"Covariate raster generation from input dtm. — create_covariates","text":"update cov_dtm.R replacing processing 02a  BEC_DevExchange_Work_","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_covariates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Covariate raster generation from input dtm. — create_covariates","text":"","code":"create_covariates(dtm, SAGApath = \"\", output = \"./cv-rasters\", layers = \"all\")"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_covariates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Covariate raster generation from input dtm. — create_covariates","text":"dtm dtm SpatRaster object (.e. loaded via terra::rast) SAGApath location SAGA system.  linux systems SAGA GIS installed Use SAGApath = \"\" output Location rasters saved. layers covariates generated.  full list covariates listed : ADD","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_covariates.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Covariate raster generation from input dtm. — create_covariates","text":"Takes dtm via SAGA GIS generates covariates embeded function. script tested SAGA 7.3 Windows Ubuntu 18. Depending system path saga_cmd may need specified.","code":""},{"path":[]},{"path":"https://bcgov.github.io/PEMprepr/reference/create_fine_res.html","id":null,"dir":"Reference","previous_headings":"","what":"Create high resolution versions of rasters — create_fine_res","title":"Create high resolution versions of rasters — create_fine_res","text":"Uses terra::disagg push set rasters target resolution.  Note input raster resolution need divisible target resolution.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_fine_res.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create high resolution versions of rasters — create_fine_res","text":"","code":"create_fine_res(   inputFileList,   output = \"./10_clean_inputs/covariates/5\",   targetRes = 5 )"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_fine_res.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create high resolution versions of rasters — create_fine_res","text":"inputFileList character vector specifying location input rasters.  Input list raster type (e.g. .tif, .sdat).  Best practice use list.files(full.names = TRUE). output destination output files. NOTE files names suffix added indicate original resolution. targetRes desired resolution convert .","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_fine_res.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create high resolution versions of rasters — create_fine_res","text":"","code":"l <- list.files(\"e:/covariates/10\") create_fine_res(l, output = \"e:/covariates/5\", targetRes = 5)"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a raster template from AOI — create_template","title":"Create a raster template from AOI — create_template","text":"Sets baseline raster template align standardize raster predictor layers package assumes data metric equal area projection likely BCAlbers","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a raster template from AOI — create_template","text":"","code":"create_template(aoi, res)"},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a raster template from AOI — create_template","text":"aoi sf terra::vect object bounding box created expanded aoi_snap function(e.g. polygon).  meter based projection res desired resolution raster (meters) outpath output path.  Note results placed subfolder labelled resolution.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a raster template from AOI — create_template","text":"terra raster.  CURRENTLY saving raster objects","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a raster template from AOI — create_template","text":"essential first step.  subsequent co-variate layers generated multiple resolutions (e.g. 5, 10, 25m^2) disaggregate'd back lowest resolution. aoi set 100m break-points facilitates .","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/create_template.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a raster template from AOI — create_template","text":"","code":"create_template(aoi, 10) #> Error in create_template(aoi, 10): object 'aoi' not found"},{"path":"https://bcgov.github.io/PEMprepr/reference/multi_res.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-resolutions — multi_res","title":"Multi-resolutions — multi_res","text":"Provides multiple resolutions input raster Resamples raster specified desired resolution using raster package. NOTE: attempt made use SAGA resample trouble aligning rasters. sure gdal can used now funtioning internal R packages.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/multi_res.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-resolutions — multi_res","text":"","code":"multi_res(input, output = \"CoVars\", resolution = c(2.5, 5, 10, 25))"},{"path":"https://bcgov.github.io/PEMprepr/reference/multi_res.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-resolutions — multi_res","text":"input raster::raster object (file) output location rasters resolution = c(5, 10, 25)  multiple resolutions can specified","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/multi_res.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Multi-resolutions — multi_res","text":"PEM project generally start high resolution dtm.  Resampling set lower resolution DTMs used capture multi-scale influences ecological unit. NOTE: ensure raster stacking covariates operation completed data cropped AOI using aoi_snap()","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/multi_res.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Multi-resolutions — multi_res","text":"","code":"## generate default raster sizes multi_res(r) #> [1] \"Depreciated.  Use `align_rasters()` instead\" #> Error in multi_res(r): object 'r' not found"},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup Folder Structure — setup_folders","title":"Setup Folder Structure — setup_folders","text":"Sets default folder structure","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup Folder Structure — setup_folders","text":"","code":"setup_folders(aoi_name, full_names = TRUE)"},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup Folder Structure — setup_folders","text":"aoi character string name main data folder","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Setup Folder Structure — setup_folders","text":"named list folders created","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Setup Folder Structure — setup_folders","text":"Folder structure contains raw data, covariates generated, subsequent models, predicted map rasters. Note directories created function can used generate list folder_id associated file paths.","code":""},{"path":"https://bcgov.github.io/PEMprepr/reference/setup_folders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Setup Folder Structure — setup_folders","text":"","code":"## add more setupfolder(\"AppleValley\") #> Error in setupfolder(\"AppleValley\"): could not find function \"setupfolder\" list.dir #> Error in eval(expr, envir, enclos): object 'list.dir' not found"}]
